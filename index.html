<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ููู ุฅูุฌุงุฒ ุงููุนููุฉ ูุฑูุงู ุงูุบูุงุฑู</title>
    
    <!-- Font Awesome CDN -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Firebase SDKs -->
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-storage.js"></script>
    
    <!-- Local Styles -->
    <link rel="stylesheet" href="style.css">
    
    <style>
        /* ุชุญููู ุณุฑูุน */
        body { opacity: 0; animation: fadeIn 0.3s ease forwards; }
        @keyframes fadeIn { to { opacity: 1; } }
    </style>
</head>
<body>
    <!-- Loading -->
    <div id="loading" style="position:fixed;top:0;left:0;width:100%;height:100%;background:#4361ee;color:white;display:flex;flex-direction:column;align-items:center;justify-content:center;z-index:9999;">
        <div style="width:60px;height:60px;border:4px solid white;border-top-color:transparent;border-radius:50%;animation:spin 1s linear infinite;"></div>
        <h3 style="margin-top:20px;">ุฌุงุฑู ุชุญููู ููู ุงูุฅูุฌุงุฒ...</h3>
    </div>

    <!-- App Container -->
    <div class="container" style="display:none;">
        <!-- Header -->
        <header>
            <div class="header-content">
                <h1><i class="fas fa-graduation-cap"></i> ููู ุฅูุฌุงุฒ ุงููุนููุฉ</h1>
                <h2>ูุฑูุงู ุงุจุฑุงููู ุงูุบูุงุฑู</h2>
                <p>ุงูู ุงูุบุฏ</p>
                <div class="status" id="status">๐ต ุฌุงุฑู ุงูุชุญููู...</div>
            </div>
        </header>

        <!-- Navigation -->
        <nav class="tabs">
            <button class="tab-btn active" data-tab="dashboard"> ุงูุฑุฆูุณูุฉ</button>
            <button class="tab-btn" data-tab="arabic"> ุนุฑุจู</button>
            <button class="tab-btn" data-tab="english"> ุฅูุฌููุฒู</button>
            <button class="tab-btn" data-tab="quran"> ูุฑุขู</button>
            <button class="tab-btn" data-tab="math">ุฑูุงุถูุงุช</button>
            <button class="tab-btn" data-tab="science"> ุนููู</button>
            <button class="tab-btn" data-tab="activities"> ูุดุงุทุงุช</button>
            <button class="tab-btn" data-tab="viewall">ุนุฑุถ ุงููู</button>
        </nav>

        <!-- Main Content -->
        <main>
            <!-- Dashboard -->
            <section id="dashboard" class="tab-content active">
                <div class="stats">
                    <div class="stat-card">
                        <i class="fas fa-layer-group"></i>
                        <h3 id="totalItems">0</h3>
                        <p>ุฅุฌูุงูู ุงูุนูุงุตุฑ</p>
                    </div>
                    <div class="stat-card">
                        <i class="fas fa-images"></i>
                        <h3 id="totalImages">0</h3>
                        <p>ุนุฏุฏ ุงูุตูุฑ</p>
                    </div>
                </div>

                <div class="quick-actions">
                    <h3>ุฅุฌุฑุงุกุงุช ุณุฑูุนุฉ:</h3>
                    <button onclick="showAddModal('arabic')" class="action-btn">
                        <i class="fas fa-plus"></i> ุฅุถุงูุฉ ุญุฑู ุนุฑุจู
                    </button>
                    <button onclick="showAddModal('english')" class="action-btn">
                        <i class="fas fa-plus"></i> ุฅุถุงูุฉ ูููุฉ ุฅูุฌููุฒูุฉ
                    </button>
                    <button onclick="showAddModal('quran')" class="action-btn">
                        <i class="fas fa-plus"></i> ุฅุถุงูุฉ ุณูุฑุฉ ูุฑุขููุฉ
                    </button>
                    <button onclick="printAll()" class="action-btn">
                        <i class="fas fa-print"></i> ุทุจุงุนุฉ ุงูููู
                    </button>
                    <button onclick="backupData()" class="action-btn">
                        <i class="fas fa-download"></i> ูุณุฎุฉ ุงุญุชูุงุทูุฉ
                    </button>
                </div>

                <div class="recent-items">
                    <h3>ุฃุญุฏุซ ุงูุฅุถุงูุงุช:</h3>
                    <div id="recentList"></div>
                </div>
            </section>

            <!-- Arabic -->
            <section id="arabic" class="tab-content">
                <div class="section-header">
                    <h3><i class="fas fa-book"></i> ุงููุบุฉ ุงูุนุฑุจูุฉ</h3>
                    <button onclick="showAddModal('arabic')" class="add-btn">
                        <i class="fas fa-plus"></i> ุฅุถุงูุฉ ุญุฑู
                    </button>
                </div>
                <div class="items-container" id="arabicItems"></div>
            </section>

            <!-- English -->
            <section id="english" class="tab-content">
                <div class="section-header">
                    <h3><i class="fas fa-language"></i> ุงููุบุฉ ุงูุฅูุฌููุฒูุฉ</h3>
                    <button onclick="showAddModal('english')" class="add-btn">
                        <i class="fas fa-plus"></i> ุฅุถุงูุฉ ูููุฉ
                    </button>
                </div>
                <div class="items-container" id="englishItems"></div>
            </section>

            <!-- Quran -->
            <section id="quran" class="tab-content">
                <div class="section-header">
                    <h3><i class="fas fa-book-quran"></i> ุงููุฑุขู ุงููุฑูู</h3>
                    <button onclick="showAddModal('quran')" class="add-btn">
                        <i class="fas fa-plus"></i> ุฅุถุงูุฉ ุณูุฑุฉ
                    </button>
                </div>
                <div class="items-container" id="quranItems"></div>
            </section>

            <!-- Math -->
            <section id="math" class="tab-content">
                <div class="section-header">
                    <h3><i class="fas fa-calculator"></i> ุงูุฑูุงุถูุงุช</h3>
                    <button onclick="showAddModal('math')" class="add-btn">
                        <i class="fas fa-plus"></i> ุฅุถุงูุฉ ููููู
                    </button>
                </div>
                <div class="items-container" id="mathItems"></div>
            </section>

            <!-- Science -->
            <section id="science" class="tab-content">
                <div class="section-header">
                    <h3><i class="fas fa-flask"></i> ุงูุนููู</h3>
                    <button onclick="showAddModal('science')" class="add-btn">
                        <i class="fas fa-plus"></i> ุฅุถุงูุฉ ุชุฌุฑุจุฉ
                    </button>
                </div>
                <div class="items-container" id="scienceItems"></div>
            </section>

            <!-- Activities -->
            <section id="activities" class="tab-content">
                <div class="section-header">
                    <h3><i class="fas fa-chalkboard-teacher"></i> ุงููุดุงุทุงุช</h3>
                    <button onclick="showAddModal('activities')" class="add-btn">
                        <i class="fas fa-plus"></i> ุฅุถุงูุฉ ูุดุงุท
                    </button>
                </div>
                <div class="items-container" id="activitiesItems"></div>
            </section>

            <!-- View All -->
            <section id="viewall" class="tab-content">
                <div class="section-header">
                    <h3><i class="fas fa-eye"></i> ุนุฑุถ ุฌููุน ุงูุนูุงุตุฑ</h3>
                    <button onclick="printAll()" class="add-btn">
                        <i class="fas fa-print"></i> ุทุจุงุนุฉ ุงููู
                    </button>
                </div>
                <div class="all-items" id="allItems"></div>
            </section>
        </main>

        <!-- Footer -->
        <footer>
            <p>ยฉ 2024 ููู ุฅูุฌุงุฒ ุงููุนููุฉ ูุฑูุงู ุงูุบูุงุฑู | ุชู ุงูุชุทููุฑ ุจู HTML, CSS, JS</p>
            <p id="storageInfo">๐พ ุงูุชุฎุฒูู: ูุญูู</p>
        </footer>
    </div>

    <!-- Add Modal -->
    <div id="addModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modalTitle">ุฅุถุงูุฉ ุฌุฏูุฏ</h3>
                <button onclick="closeModal()" class="close-btn">&times;</button>
            </div>
            <div class="modal-body">
                <form id="addForm">
                    <input type="hidden" id="modalSubject">
                    
                    <div class="form-group">
                        <label>ุงูุนููุงู:</label>
                        <input type="text" id="itemTitle" placeholder="ูุซุงู: ุญุฑู ุงูุฃูู" required>
                    </div>
                    
                    <div class="form-group">
                        <label>ุงููุตู:</label>
                        <textarea id="itemDescription" placeholder="ูุตู ุงููุดุงุท..." rows="3"></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label>ุงูุตูุฑ (ุงุฎุชูุงุฑู - ุณูุชู ุชุตุบูุฑูุง ุชููุงุฆูุงู):</label>
                        <input type="file" id="image1" accept="image/*" onchange="previewImage(this, 'preview1')">
                        <div id="preview1" class="image-preview"></div>
                        <input type="file" id="image2" accept="image/*" onchange="previewImage(this, 'preview2')">
                        <div id="preview2" class="image-preview"></div>
                    </div>
                    
                    <div class="form-actions">
                        <button type="button" onclick="closeModal()" class="btn-cancel">ุฅูุบุงุก</button>
                        <button type="submit" class="btn-save">ุญูุธ</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Image Preview Modal -->
    <div id="imageModal" class="modal">
        <div class="modal-content">
            <button onclick="closeImageModal()" class="close-btn">&times;</button>
            <img id="modalImage" style="max-width:100%;">
        </div>
    </div>

    <!-- Firebase Config -->
    <script>
        // ุฅุนุฏุงุฏุงุช Firebase ุงููุจุณุทุฉ
        const firebaseConfig = {
            apiKey: "AIzaSyDLJPdy0F4W6iqkUCnKw1jc2CCeGNe5cBU",
            authDomain: "teacher-portfolio-fryal.firebaseapp.com",
            projectId: "teacher-portfolio-fryal",
            storageBucket: "teacher-portfolio-fryal.firebasestorage.app",
            messagingSenderId: "1054582250352",
            appId: "1:1054582250352:web:0fbb6f5a8c2763ffcc4db5"
        };
        
        // ูุญุงููุฉ ุชููุฆุฉ Firebase
        try {
            firebase.initializeApp(firebaseConfig);
            console.log("โ Firebase ูุชุตู");
        } catch (e) {
            console.log("โ๏ธ Firebase ุบูุฑ ูุชุงุญุ ุงุณุชุฎุฏุงู ุงูุชุฎุฒูู ุงููุญูู");
        }
    </script>

    <!-- Main Script -->
    <script src="script.js"></script>
    
    <style>
        @keyframes spin { to { transform: rotate(360deg); } }
    </style>
</body>
</html>
